<html>

<head>
    <style>
        .Square {
            width: 40px;
            height: 40px;
            text-align: center;
            font-size: 18pt;
            font-weight: bold;
            font-family: Verdana;
        }
    </style>

    <script>

        function startGame() {
            document.turn = "X";
            document.winner = null;
            setMessage(document.turn + " gets to start.");
        }

        function setMessage(msg) {
            document.getElementById("message").innerText = msg;
        }

        function nextMove(square) {
            if (document.winner != null) {
                setMessage(document.winner + " already won the game.");
            } else if (square.innerText == "") {
                square.innerText = document.turn;
                switchTurn();
            } else {
                setMessage("That square is already used.");
            }
        }

        function switchTurn() {

            if (checkForWinner(document.turn)) {
                setMessage("Congratulations, " + document.turn + "! You win!");
                document.winner = document.turn;
            } else if (document.turn == "X") {
                document.turn = "O";
                setMessage("It's " + document.turn + "'s turn!");
            } else {
                document.turn = "X";
                setMessage("It's " + document.turn + "'s turn!");
            }
        }

        function checkForWinner(move) {
            var result = false;
            if (checkRow(1, 2, 3, 4, move) ||
                checkRow(5, 6, 7, 8, move) ||
                checkRow(9, 10, 11, 12, move) ||
                checkRow(13, 14, 15, 16, move) ||
                checkRow(1, 5, 9, 13, move) ||
                checkRow(2, 6, 10, 14, move) ||
                checkRow(3, 7, 11, 15, move) ||
                checkRow(4, 8, 12, 16, move) ||
                checkRow(1, 6, 11, 16, move) ||
                checkRow(4, 7, 10, 13, move)) {

                result = true;
            }
            return result;
        }

        function checkRow(a, b, c, d, move) {
            var result = false;
            if (getBox(a) == move && getBox(b) == move && getBox(c) == move && getBox(d) == move) {
                result = true;
            }
            return result;
        }

        function getBox(number) {
            return document.getElementById("s" + number).innerText
        }

    </script>

</head>

<body onload="startGame();">
    <h1>Welcome to my game</h1>
    <div id="message">messages</div>
    <table border="1">
        <tr>
            <td id="s1" class="Square" onclick="nextMove(this);"></td>
            <td id="s2" class="Square" onclick="nextMove(this);"></td>
            <td id="s3" class="Square" onclick="nextMove(this);"></td>
            <td id="s4" class="Square" onclick="nextMove(this);"></td>
        </tr>
        <tr>
            <td id="s5" class="Square" onclick="nextMove(this);"></td>
            <td id="s6" class="Square" onclick="nextMove(this);"></td>
            <td id="s7" class="Square" onclick="nextMove(this);"></td>
            <td id="s8" class="Square" onclick="nextMove(this);"></td>
        </tr>
        <tr>
            <td id="s9" class="Square" onclick="nextMove(this);"></td>
            <td id="s10" class="Square" onclick="nextMove(this);"></td>
            <td id="s11" class="Square" onclick="nextMove(this);"></td>
            <td id="s12" class="Square" onclick="nextMove(this);"></td>
        </tr>
        <tr>
            <td id="s13" class="Square" onclick="nextMove(this);"></td>
            <td id="s14" class="Square" onclick="nextMove(this);"></td>
            <td id="s15" class="Square" onclick="nextMove(this);"></td>
            <td id="s16" class="Square" onclick="nextMove(this);"></td>
        </tr>
    </table>
</body>
</html>